<html>
	<head>
		<title>List - BenchBase WebUI</title>
		{{template "stylesheets" .}}
	</head>

	<body>

		{{template "navbar" .}}

		{{if .Focus}}
		<ol id="focus_list" class="breadcrumb" style="width: 800px; margin:auto; margin-bottom: 30px;">
			<li><a href="/list?filter={{.Filter}}&depth=2">Focus</a></li>
		</ol>
		{{end}}

		<div id="list">

			{{range .Tables}}
			<table class="table table-hover table-striped table-bordered table-nonfluid">
				<thead>
					<tr><td colspan="{{.Width}}">{{.Category}}</td></tr>
					{{range .Titles}}
					<tr>
						{{range .}}
						<th colspan="{{.Width}}" rowspan="{{.Height}}">
							{{if .Focus}}
							<a href="/list?filter={{$.Filter}}&depth=1&focus={{.Focus}}">{{.Title}}</a>
							{{else}}
								{{.Title}}
							{{end}}
						</th>
						{{end}}
					</tr>
					{{end}}
				</thead>

				<tbody>
					{{range  .BenchList}}
					<tr>
						<td>{{.Name}}</td>
						{{range .Times}}
						<td style="text-align:right">{{.}}</td>
						{{end}}
					</tr>
					{{end}}
				</tbody>

			</table>


			{{end}}
		
		</div>

		{{template "scripts" .}}


		{{if .Focus}}
		<script>
var focus = "{{.Focus}}";
var focusList = focus.split(".");
var prefix = "";
$.each(focusList, function(i, token) {
	if (i != 0)
		prefix += ".";
	prefix += token;

	if (i == focusList.length-1)
		$("#focus_list").append("<li>"+token+"</li>");
	else
		$("#focus_list").append("<li><a href='/list?filter={{.Filter}}&depth=1&focus=" + prefix + "'>" + token + "</a></li>");
});
		</script>
		{{end}}
	</body>
</html>

